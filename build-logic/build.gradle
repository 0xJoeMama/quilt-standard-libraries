plugins {
	id("groovy-gradle-plugin")
	id("java")
}

repositories {
	gradlePluginPortal()
	mavenCentral()

	maven {
		name = "Quilt"
		url = "https://maven.quiltmc.org/repository/release"
	}

	maven {
		name = "ajoberstar-backup"
		url = "https://ajoberstar.org/bintray-backup/"
	}
}

dependencies {
	implementation "org.quiltmc:loom:0.7.+"
	implementation "org.ajoberstar.grgit:grgit-gradle:4.1.0"
	implementation "org.quiltmc.gradle-conventions:gradle-convention-plugins:0.+"
}

tasks.withType(JavaCompile).configureEach {
	it.options.encoding = "UTF-8"

	if (JavaVersion.current().isJava9Compatible()) {
		it.options.release.set(8)
	}
}

java {
	sourceCompatibility = JavaVersion.VERSION_1_8
	targetCompatibility = JavaVersion.VERSION_1_8
}
