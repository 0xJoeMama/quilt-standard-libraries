plugins {
	id("qsl.module")
}

qslModule {
	name = "Quilt Component Attachment API"
	moduleName = "component"
	id = "quilt_component"
	description = "API allowing attachment and querying of an ECS-like interface for entities, block-entities, chunks, etc."
	library = "data"
	moduleDependencies {
		core {
			api("qsl_base")
			api("lifecycle_events")
			api("networking")
		}

		block {
			testmodOnly("block_entity")
		}
	}

	entrypoints {
		events {
			values = ["org.quiltmc.qsl.component.impl.event.ServerTickEventListener"]
		}

		init {
			values = ["org.quiltmc.qsl.component.impl.CommonInitializer"]
		}

		client_init {
			values = ["org.quiltmc.qsl.component.impl.client.ClientInitializer"]
		}
	}

	accessWidener()

	injectedInterface("net/minecraft/class_2586") {
		values = ["org/quiltmc/qsl/component/api/ComponentProvider"]
	}

	injectedInterface("net/minecraft/class_1297") {
		values = ["org/quiltmc/qsl/component/api/ComponentProvider"]
	}

	injectedInterface("net/minecraft/class_2791") {
		values = ["org/quiltmc/qsl/component/api/ComponentProvider"]
	}

	injectedInterface("net/minecraft/class_31") {
		values = ["org/quiltmc/qsl/component/api/ComponentProvider"]
	}

	injectedInterface("net/minecraft/class_1799") {
		values = ["org/quiltmc/qsl/component/api/ComponentProvider"]
	}

	injectedInterface("net/minecraft/class_310") {
		values = ["org/quiltmc/qsl/component/api/ComponentProvider"]
	}
}
